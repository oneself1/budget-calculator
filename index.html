<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Pro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app">
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-time" id="current-time">--:--</div>
            <div class="status-date" id="current-date">--.--.----</div>
        </div>

        <!-- Toast Container -->
        <div id="toast-container" class="toast-container"></div>

        <!-- Main Screens -->
        <div class="screen active" id="main-screen">
            <header class="header">
                <h1 class="app-title">Finance Pro</h1>
                <div class="header-actions">
                    <button class="icon-btn" onclick="app.showSettings()">‚öôÔ∏è</button>
                </div>
            </header>

            <!-- Balance Card -->
            <div class="balance-card">
                <div class="balance-amount" id="balance-amount">‚ÇΩ0.00</div>
                <div class="balance-label">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                <div class="balance-stats">
                    <div class="stat income">
                        <span class="stat-label">–î–æ—Ö–æ–¥—ã</span>
                        <span class="stat-value" id="total-income">‚ÇΩ0.00</span>
                    </div>
                    <div class="stat expense">
                        <span class="stat-label">–†–∞—Å—Ö–æ–¥—ã</span>
                        <span class="stat-value" id="total-expense">‚ÇΩ0.00</span>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <button class="quick-btn" onclick="app.showAddIncomeModal()">
                    <span class="quick-icon">üí∞</span>
                    <span class="quick-text">–î–æ—Ö–æ–¥</span>
                </button>
                <button class="quick-btn" onclick="app.showAddExpenseModal()">
                    <span class="quick-icon">üõí</span>
                    <span class="quick-text">–†–∞—Å—Ö–æ–¥</span>
                </button>
                <button class="quick-btn" onclick="app.showAddDebtModal()">
                    <span class="quick-icon">üí≥</span>
                    <span class="quick-text">–î–æ–ª–≥</span>
                </button>
                <button class="quick-btn" onclick="app.showAddGoalModal()">
                    <span class="quick-icon">üéØ</span>
                    <span class="quick-text">–¶–µ–ª—å</span>
                </button>
            </div>

            <!-- Categories Sections -->
            <div class="categories-section">
                <h2 class="section-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Ö–æ–¥–æ–≤</h2>
                <div class="categories-grid" id="income-categories">
                    <!-- Income categories will be loaded here -->
                </div>
                <button class="add-category-btn" onclick="app.showAddCategoryModal('income')">
                    + –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                </button>
            </div>

            <div class="categories-section">
                <h2 class="section-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</h2>
                <div class="categories-grid" id="expense-categories">
                    <!-- Expense categories will be loaded here -->
                </div>
                <button class="add-category-btn" onclick="app.showAddCategoryModal('expense')">
                    + –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                </button>
            </div>

            <!-- Recent Transactions -->
            <div class="transactions-section">
                <h2 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h2>
                <div class="transactions-list" id="recent-transactions">
                    <!-- Transactions will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Transactions Screen -->
        <div class="screen" id="transactions-screen">
            <header class="header">
                <button class="back-btn" onclick="app.showScreen('main-screen')">‚Üê</button>
                <h1 class="screen-title">–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h1>
            </header>
            <div class="transactions-list full" id="all-transactions">
                <!-- All transactions will be loaded here -->
            </div>
        </div>

        <!-- Goals Screen -->
        <div class="screen" id="goals-screen">
            <header class="header">
                <button class="back-btn" onclick="app.showScreen('main-screen')">‚Üê</button>
                <h1 class="screen-title">–¶–µ–ª–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π</h1>
                <button class="icon-btn" onclick="app.showAddGoalModal()">+</button>
            </header>
            <div class="goals-list" id="goals-list">
                <!-- Goals will be loaded here -->
            </div>
        </div>

        <!-- Reports Screen -->
        <div class="screen" id="reports-screen">
            <header class="header">
                <button class="back-btn" onclick="app.showScreen('main-screen')">‚Üê</button>
                <h1 class="screen-title">–û—Ç—á–µ—Ç—ã</h1>
            </header>
            <div class="reports-content" id="reports-content">
                <!-- Reports will be loaded here -->
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" onclick="app.showScreen('main-screen')">
                <span class="nav-icon">üè†</span>
                <span class="nav-label">–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-btn" onclick="app.showScreen('transactions-screen')">
                <span class="nav-icon">üìù</span>
                <span class="nav-label">–û–ø–µ—Ä–∞—Ü–∏–∏</span>
            </button>
            <button class="nav-btn" onclick="app.showScreen('goals-screen')">
                <span class="nav-icon">üéØ</span>
                <span class="nav-label">–¶–µ–ª–∏</span>
            </button>
            <button class="nav-btn" onclick="app.showScreen('reports-screen')">
                <span class="nav-icon">üìä</span>
                <span class="nav-label">–û—Ç—á–µ—Ç—ã</span>
            </button>
        </nav>
    </div>

    <!-- Modal Overlay -->
    <div id="modal-overlay" class="modal-overlay"></div>

    <!-- All Modals -->
    <div id="add-income-modal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</h2>
            <div class="form-group">
                <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                <select id="income-category-select" class="form-input">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                </select>
            </div>
            <div class="form-group">
                <label>–°—É–º–º–∞</label>
                <input type="number" id="income-amount" class="form-input" placeholder="0.00" step="0.01">
            </div>
            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <input type="text" id="income-description" class="form-input" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Ö–æ–¥–∞">
            </div>
            <div class="modal-actions">
                <button class="btn secondary" onclick="app.hideModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn primary" onclick="app.addIncome()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="add-expense-modal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</h2>
            <div class="form-group">
                <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                <select id="expense-category-select" class="form-input">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                </select>
            </div>
            <div class="form-group">
                <label>–°—É–º–º–∞</label>
                <input type="number" id="expense-amount" class="form-input" placeholder="0.00" step="0.01">
            </div>
            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <input type="text" id="expense-description" class="form-input" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞">
            </div>
            <div class="modal-actions">
                <button class="btn secondary" onclick="app.hideModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn primary" onclick="app.addExpense()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="add-debt-modal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ª–≥</h2>
            <div class="form-group">
                <label>–°—É–º–º–∞ –¥–æ–ª–≥–∞</label>
                <input type="number" id="debt-amount" class="form-input" placeholder="0.00" step="0.01">
            </div>
            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <input type="text" id="debt-description" class="form-input" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–≥–∞">
            </div>
            <div class="form-group">
                <label>–ò–∫–æ–Ω–∫–∞</label>
                <input type="text" id="debt-icon" class="form-input" value="üí≥" maxlength="2">
            </div>
            <div class="modal-actions">
                <button class="btn secondary" onclick="app.hideModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn primary" onclick="app.addDebt()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="add-goal-modal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">–ù–æ–≤–∞—è —Ü–µ–ª—å</h2>
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏</label>
                <input type="text" id="goal-name" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω">
            </div>
            <div class="form-group">
                <label>–¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞</label>
                <input type="number" id="goal-target" class="form-input" placeholder="10000" step="0.01">
            </div>
            <div class="form-group">
                <label>–ò–∫–æ–Ω–∫–∞</label>
                <input type="text" id="goal-icon" class="form-input" value="üéØ" maxlength="2">
            </div>
            <div class="modal-actions">
                <button class="btn secondary" onclick="app.hideModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn primary" onclick="app.addGoal()">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="add-category-modal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title" id="add-category-title">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h2>
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                <input type="text" id="category-name" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏">
            </div>
            <div class="form-group">
                <label>–ò–∫–æ–Ω–∫–∞</label>
                <input type="text" id="category-icon" class="form-input" value="üìÅ" maxlength="2">
            </div>
            <div class="form-group">
                <label>–¢–∏–ø</label>
                <select id="category-type" class="form-input">
                    <option value="income">–î–æ—Ö–æ–¥</option>
                    <option value="expense">–†–∞—Å—Ö–æ–¥</option>
                </select>
            </div>
            <div class="modal-actions">
                <button class="btn secondary" onclick="app.hideModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn primary" onclick="app.addCategory()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            
            <div class="settings-group">
                <h3>–û—Å–Ω–æ–≤–Ω—ã–µ</h3>
                <div class="setting-item">
                    <label class="setting-label">
                        <input type="checkbox" id="budget-alerts" checked>
                        –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –±—é–¥–∂–µ—Ç–µ
                    </label>
                </div>
                <div class="setting-item">
                    <label class="setting-label">
                        <input type="checkbox" id="auto-recurring" checked>
                        –ê–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ–ø–µ—Ä–∞—Ü–∏–π
                    </label>
                </div>
            </div>

            <div class="settings-group">
                <h3>–í–∞–ª—é—Ç–∞</h3>
                <div class="setting-item">
                    <select id="currency" class="form-input">
                        <option value="‚ÇΩ">–†—É–±–ª—å (‚ÇΩ)</option>
                        <option value="$">–î–æ–ª–ª–∞—Ä ($)</option>
                        <option value="‚Ç¨">–ï–≤—Ä–æ (‚Ç¨)</option>
                    </select>
                </div>
            </div>

            <div class="settings-group">
                <h3>–î–∞–Ω–Ω—ã–µ</h3>
                <div class="setting-item">
                    <button class="btn warning" onclick="app.exportData()">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                </div>
                <div class="setting-item">
                    <button class="btn danger" onclick="app.clearData()">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</button>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn primary" onclick="app.saveSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="js/database.js"></script>
    <script src="js/toast.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
